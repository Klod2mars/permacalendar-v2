meta:
  name: "Patch 1 - Core Runtime Providers"
  description: >
    Crée le fichier core/providers/intelligence_runtime_providers.dart
    pour héberger les providers runtime nécessaires au core.
    Objectif : rompre la dépendance core→presentation.

tasks:
  - id: create_runtime_providers
    description: >
      Crée le fichier lib/core/providers/intelligence_runtime_providers.dart
      et y ajoute les providers nécessaires.
    actions:
      - create_file:
          path: "lib/core/providers/intelligence_runtime_providers.dart"
          content: |
            import 'package:riverpod/riverpod.dart';
            import '../../features/plant_intelligence/presentation/providers/intelligence_state_providers.dart'
                as presentation;

            /// Provider core exposant intelligenceStateProvider
            final intelligenceStateProviderCore = presentation.intelligenceStateProvider;

            /// Provider core exposant currentIntelligenceGardenIdProvider
            final currentIntelligenceGardenIdProviderCore =
                presentation.currentIntelligenceGardenIdProvider;
  - id: verify_creation
    run: flutter analyze lib/core/providers/intelligence_runtime_providers.dart
