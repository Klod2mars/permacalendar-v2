# 3-Imports-Riverpod3.yaml
objectif: "Uniformiser les imports Riverpod (core -> riverpod/riverpod.dart, UI -> flutter_riverpod/flutter_riverpod.dart)."
strategie:
  regles:
    - "Dans domain/data/application (providers ‘métiers’): utiliser 'package:riverpod/riverpod.dart'."
    - "Dans presentation/ui/widgets/screens: utiliser 'package:flutter_riverpod/flutter_riverpod.dart'."
  remplacements:
    - before: "import 'package:flutter_riverpod/flutter_riverpod.dart';"
      after:  "import 'package:riverpod/riverpod.dart';"
      scope:  "non-UI (core/domain/data/application)"
actions:
  - "Lister les fichiers impactés."
  - "Appliquer remplacement ciblé."
  - "Générer un diff."
commandes:
  - "rg -n \"flutter_riverpod\" lib | tee .cursor/riverpod_imports_candidates.txt"
  - "## (Appliquer patchs fichier par fichier suivant les règles ci-dessus)"
  - "dart run build_runner build --delete-conflicting-outputs"
criteres_acceptation:
  - "Aucune erreur 'StateProvider not found' due à mauvais import."
  - "build_runner OK."
livrables:
  - ".cursor/riverpod_imports_candidates.txt"
  - ".cursor/build_gen_step3.log"
garde_fous: "Ne pas transformer les imports UI vers riverpod pur."
next_step: "4-Migration-Notifier"
