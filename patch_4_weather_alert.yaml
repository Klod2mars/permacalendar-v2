meta:
  name: "Patch 4 - Weather Alert Service"
  description: >
    Supprime la dépendance vers les types définis dans presentation/providers
    et oriente vers la couche domain/entities.

tasks:
  - id: patch_weather_imports
    actions:
      - find_replace:
          path: "lib/core/services/weather_alert_service.dart"
          pattern: "../../features/climate/presentation/providers/weather_providers.dart"
          multiple: true
          replacement: "../../features/climate/domain/entities/weather_alert.dart"
  - id: patch_weather_types
    actions:
      - find_replace:
          path: "lib/core/services/weather_alert_service.dart"
          pattern: "weather_providers\\.WeatherAlert"
          multiple: true
          replacement: "WeatherAlert"
  - id: verify_patch
    run: flutter analyze lib/core/services/weather_alert_service.dart
